{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000\";\nconst headers = new Headers();\nheaders.append(\"Content-Type\", \"application/json\");\nasync function fetchJson(url, options, onCancel) {\n  try {\n    const response = await fetch(url, options);\n    if (response.status < 200 || response.status > 399) {\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n    if (response.status === 204) {\n      return null;\n    }\n    return await response.json();\n  } catch (error) {\n    if (error.name !== \"AbortError\") {\n      console.error(error.stack);\n      throw error;\n    }\n    return Promise.resolve(onCancel);\n  }\n}\n\n//get a list of all questions\nexport async function getAllQuestions(signal) {\n  const url = `${API_BASE_URL}/questions`;\n  return await fetchJson(url, {\n    signal\n  }, {});\n}\n\n//creates a new question\nexport async function createQuestion(data, signal) {\n  const url = `${API_BASE_URL}/questions`;\n  const options = {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      data\n    }),\n    signal\n  };\n  return await fetchJson(url, options, data);\n}\nexport async function readQuestion(question_id, signal) {\n  const url = `${API_BASE_URL}/questions/${question_id}`;\n  return await fetchJson(url, {\n    signal\n  }, {});\n}\n//updates a question\nexport async function updateQuestion(data, signal) {\n  const url = `${API_BASE_URL}/questions/${data.question_id}`;\n  const options = {\n    method: \"PUT\",\n    headers,\n    body: JSON.stringify({\n      data\n    }),\n    signal\n  };\n  return await fetchJson(url, options, data);\n}\n//deletes a question\nexport async function deleteQuestion(question_id, signal) {\n  const url = `${API_BASE_URL}/questions/${question_id}`;\n  const options = {\n    method: \"DELETE\",\n    signal\n  };\n  return await fetchJson(url, options, []);\n}\nexport async function postQuizScore(data, signal) {\n  const url = `${API_BASE_URL}/scores`;\n  const options = {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      data\n    }),\n    signal\n  };\n  return await fetchJson(url, options, data);\n}\n//get a list of all scores\nexport async function getAllScores(signal) {\n  const url = `${API_BASE_URL}/scores`;\n  return await fetchJson(url, {\n    signal\n  }, []);\n}\nexport async function deleteScore(score_id, signal) {\n  const url = `${API_BASE_URL}/questions/${question_id}`;\n  const options = {\n    method: \"DELETE\",\n    signal\n  };\n  return await fetchJson(url, options, []);\n}","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_BASE_URL","headers","Headers","append","fetchJson","url","options","onCancel","response","fetch","status","Error","statusText","json","error","name","console","stack","Promise","resolve","getAllQuestions","signal","createQuestion","data","method","body","JSON","stringify","readQuestion","question_id","updateQuestion","deleteQuestion","postQuizScore","getAllScores","deleteScore","score_id"],"sources":["C:/Users/mercy/fullstack-projects/quiz-application/front-end/src/api/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000\";\r\nconst headers = new Headers();\r\nheaders.append(\"Content-Type\", \"application/json\");\r\n\r\nasync function fetchJson(url, options, onCancel){\r\n  try{\r\n    const response = await fetch(url,options);\r\n    if(response.status < 200 || response.status > 399){\r\n      throw new Error(`${response.status} - ${response.statusText}`);\r\n    }\r\n    if(response.status === 204){\r\n      return null;\r\n    }\r\n    return await response.json();\r\n  }catch(error){\r\n    if(error.name !== \"AbortError\"){\r\n      console.error(error.stack);\r\n      throw error;\r\n    }\r\n    return Promise.resolve(onCancel);\r\n  }\r\n}\r\n\r\n//get a list of all questions\r\nexport async function getAllQuestions(signal){\r\n  const url = `${API_BASE_URL}/questions`;\r\n  return await fetchJson(url, {signal}, {})\r\n}\r\n\r\n//creates a new question\r\nexport async function createQuestion(data, signal){\r\n  const url = `${API_BASE_URL}/questions`;\r\n  const options = {\r\n    method: \"POST\",\r\n    headers,\r\n    body: JSON.stringify({data}),\r\n    signal,\r\n  };\r\n  return await fetchJson(url, options, data);\r\n}\r\nexport async function readQuestion(question_id, signal){\r\n  const url = `${API_BASE_URL}/questions/${question_id}`;\r\n  return await fetchJson(url, {signal}, {})\r\n}\r\n//updates a question\r\nexport async function updateQuestion(data, signal){\r\n  const url = `${API_BASE_URL}/questions/${data.question_id}`;\r\n  const options = {\r\n    method: \"PUT\",\r\n    headers,\r\n    body: JSON.stringify({data}),\r\n    signal,\r\n  };\r\n  return await fetchJson(url, options, data);\r\n}\r\n//deletes a question\r\nexport async function deleteQuestion(question_id, signal){\r\n  const url = `${API_BASE_URL}/questions/${question_id}`\r\n  const options = {\r\n    method: \"DELETE\",\r\n    signal,\r\n  };\r\n  return await fetchJson(url, options, []);\r\n}\r\nexport async function postQuizScore(data, signal){\r\n  const url = `${API_BASE_URL}/scores`;\r\n  const options = {\r\n    method: \"POST\",\r\n    headers,\r\n    body: JSON.stringify({data}),\r\n    signal,\r\n  };\r\n  return await fetchJson(url, options, data);\r\n}\r\n//get a list of all scores\r\nexport async function getAllScores(signal){\r\n  const url = `${API_BASE_URL}/scores`;\r\n  return await fetchJson(url, {signal}, [])\r\n}\r\nexport async function deleteScore(score_id, signal){\r\n  const url = `${API_BASE_URL}/questions/${question_id}`\r\n  const options = {\r\n    method: \"DELETE\",\r\n    signal,\r\n  };\r\n  return await fetchJson(url, options, []);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}